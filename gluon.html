<script>

(Gluon=>{if(Gluon.Element){return;}
const TEMPLATE=Symbol('template');const ATTACHTEMPLATE=Symbol('attachTemplate');const CREATEIDCACHE=Symbol('createIdCache');const ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/;let workingURL;let resolveDoc;class GluonElement extends HTMLElement{constructor(){super();this[ATTACHTEMPLATE]();this[CREATEIDCACHE]();}
resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url;}
if(!baseURI){baseURI=this.constructor._source&&this.constructor._source.baseURI||window.location.href;}
if(workingURL===undefined){workingURL=false;try{const u=new URL('b','http://a');u.pathname='c%20d';workingURL=(u.href==='http://a/c%20d');}catch(e){}}
if(workingURL){return(new URL(url,baseURI)).href;}
if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument('temp');resolveDoc.base=resolveDoc.createElement('base');resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement('a');resolveDoc.body.appendChild(resolveDoc.anchor);}
resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url;}}
GluonElement.prototype[ATTACHTEMPLATE]=function(){if(this.constructor[TEMPLATE]===undefined){let template=(this.constructor._source&&this.constructor._source.ownerDocument.getElementById(`${this.constructor.is}-template`));if(template){if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,this.constructor.is);}
this.constructor[TEMPLATE]=template;}else{console.debug(`No template found for ${this.constructor.is}`);this.constructor[TEMPLATE]=false;return;}}
if(this.constructor[TEMPLATE]){this.attachShadow({mode:'open'});this.shadowRoot.appendChild(this.constructor[TEMPLATE].content.cloneNode(true));}}
GluonElement.prototype[CREATEIDCACHE]=function(){if(this.shadowRoot){this.$={};this.shadowRoot.querySelectorAll('[id]').forEach((element)=>{this.$[element.id]=element;});}}
Gluon.Element=GluonElement;})(window['Gluon']=(window['Gluon']||{}));
</script>
